Как прогружаются конфиги, смотрите в файле [termhelper-functions](../termhelper-functions) в функции `_th_load_config`.

Там, где `dnf repoquery` занимает слишком много времени, мы отключаем обработчик не найденных команд. Это делается двумя способами:

* при установке системы, запуская скрипт-измеритель в %post программы установки Anaconda (для "стандартных" дистрибутивов)
* при запуске системы, запуская службу systemd (для LiveCD и [Бария](http://barium.rosalinux.ru))

Скрипт-измеритель проводит полноценное измерение скорости прогрузки метаданных в dnf (именно это может занимать слишком много времени на слабых машинах), а служба systemd лишь "прикидывает" потенциальную скорость работы исходя из частоты процессора.
